{% extends "base.html" %}
{% block title %}Privacy Policy — tracekit{% endblock %}

{% block body %}
<div class="container-narrow">
    <article class="prose">
        <h1>Privacy Policy</h1>
        <p class="prose-lead">Effective Date: February 23, 2026</p>

        <p>This policy applies to the tracekit SaaS platform at
        <a href="https://app.tracekit.app">app.tracekit.app</a>, operated by Chris Kelly.
        If you self-host tracekit, you control your own data — see the
        <a href="https://github.com/ckdake/tracekit/blob/main/PRIVACY.md" target="_blank" rel="noopener">self-hosted privacy policy</a>
        in the repository.</p>

        <hr>

        <h2>1. What We Store</h2>

        <h3>Activity metadata</h3>
        <p>For every activity synced from a connected provider, tracekit stores:</p>
        <ul>
            <li>Activity name, type, date/time, and duration</li>
            <li>Distance and elevation</li>
            <li>Equipment / gear name</li>
            <li>Heart-rate averages and max values</li>
            <li>Temperature</li>
            <li>Provider-assigned activity ID</li>
        </ul>

        <h3>Source activity files (optional)</h3>
        <p>If you upload or sync source files (GPX, FIT, TCX, etc.), tracekit stores those
        files on the platform so it can read them for matching and display. You can delete
        them at any time.</p>

        <h3>Provider credentials</h3>
        <p>OAuth tokens and API credentials for connected services (Strava, Garmin,
        RideWithGPS) are stored on the tracekit platform so that tracekit can sync data
        on your behalf. These credentials are stored encrypted at rest and are never
        shared with any third party other than the provider they belong to.</p>

        <h3>Account information</h3>
        <p>Your email address and a hashed password are stored to identify your account.
        If you subscribe, your Stripe customer ID and subscription status are stored
        alongside your account record.</p>

        <h3>What we do NOT store</h3>
        <ul>
            <li>GPS coordinates, route geometry, or map data</li>
            <li>Per-second sensor streams (heart rate, power, cadence time series)</li>
            <li>Any data belonging to other users — tracekit never aggregates or
            cross-references data across accounts</li>
        </ul>

        <hr>

        <h2>2. How Data Is Used</h2>
        <ul>
            <li><strong>Display:</strong> your cached activities are shown in the tracekit
            calendar and sync status pages — only to you.</li>
            <li><strong>Matching:</strong> records from different providers are compared by
            timestamp and distance to identify the same activity across platforms.</li>
            <li><strong>Writeback:</strong> tracekit only writes to a third-party platform
            (e.g. setting an activity name or gear assignment on Strava) when you
            <strong>explicitly click a button</strong> in the UI to trigger that action.
            No writes to connected services happen without your direct instruction. In the
            future, you may be able to create rules that allow specific types of automatic
            actions — any such feature will require explicit opt-in.</li>
        </ul>

        <p>tracekit <strong>never</strong>:</p>
        <ul>
            <li>Aggregates or compares data across different users</li>
            <li>Shares your data with third parties (other than the sub-processors listed below)</li>
            <li>Uses your data for advertising or machine learning</li>
            <li>Sells, licenses, or discloses your data to anyone</li>
        </ul>

        <hr>

        <h2>3. Third-Party Platforms You Connect</h2>
        <p>tracekit connects to the platforms below using credentials you provide. Your use
        of those platforms is governed by their own terms. tracekit is not affiliated with
        or endorsed by any of them.</p>

        <h3>Strava</h3>
        <p>tracekit uses the <a href="https://www.strava.com/legal/api" target="_blank" rel="noopener">Strava API</a>.
        Data fetched from Strava is used only to display your own activities and to perform
        writes (title, gear) that you explicitly request.</p>
        <p class="attribution-block">
            <a href="https://www.strava.com" target="_blank" rel="noopener" class="attribution-link strava-attr">
                <img src="{{ url_for('static', filename='powered_by_strava.svg') }}"
                     alt="Powered by Strava" class="attribution-logo" onerror="this.replaceWith(document.createTextNode('Powered by Strava'))">
            </a>
        </p>

        <h3>Garmin</h3>
        <p>tracekit can sync activity data from Garmin Connect. tracekit is not affiliated
        with or endorsed by Garmin.</p>
        <p class="attribution-block">
            <a href="https://www.garmin.com" target="_blank" rel="noopener" class="attribution-link garmin-attr">
                <span class="attribution-pill garmin-pill">Powered by Garmin</span>
            </a>
        </p>

        <h3>RideWithGPS</h3>
        <p>tracekit can sync activities from RideWithGPS. tracekit is not affiliated with
        or endorsed by RideWithGPS.</p>

        <hr>

        <h2>4. Sub-processors</h2>
        <p>The tracekit platform uses the following third-party services to operate:</p>
        <ul>
            <li><strong>Digital Ocean</strong> — cloud infrastructure provider. All data
            is stored and processed on Digital Ocean servers.</li>
            <li><strong>Stripe</strong> — payment processing. If you subscribe, your billing
            information is handled by Stripe and governed by
            <a href="https://stripe.com/privacy" target="_blank" rel="noopener">Stripe's privacy policy</a>.
            tracekit stores only your Stripe customer ID and subscription status — no card
            numbers or billing details.</li>
            <li><strong>Sentry</strong> — error monitoring. When the application encounters
            an unexpected error, a report including request metadata (but not your activity
            data or credentials) may be sent to Sentry to help diagnose bugs.</li>
        </ul>

        <hr>

        <h2>5. Data Retention &amp; Deletion</h2>
        <ul>
            <li>Your data is retained for as long as your account is active.</li>
            <li>You can delete individual provider data at any time from the Settings page.</li>
            <li>When you request account deletion, <strong>all</strong> data associated with
            your account is permanently deleted — including activity metadata, any stored
            source files, and provider credentials. We target deletion within 24 hours of
            a confirmed request.</li>
            <li>Billing records held by Stripe are subject to Stripe's own retention policies.</li>
        </ul>

        <hr>

        <h2>6. Security</h2>
        <ul>
            <li>Provider credentials (OAuth tokens, API keys) are stored encrypted at rest.</li>
            <li>All traffic between your browser and app.tracekit.app uses HTTPS.</li>
            <li>All communication between tracekit and third-party provider APIs uses HTTPS.</li>
            <li>Passwords are stored as bcrypt hashes and never in plaintext.</li>
        </ul>

        <hr>

        <h2>7. Your Rights</h2>
        <p>You have the right to:</p>
        <ul>
            <li><strong>Access</strong> a copy of the data tracekit holds about you — contact us.</li>
            <li><strong>Delete</strong> your account and all associated data — use the Settings
            page or contact us and we will delete everything within 24 hours.</li>
            <li><strong>Revoke</strong> tracekit's access to any connected platform at any time
            by disconnecting the app in that platform's settings
            (e.g. Strava's <a href="https://www.strava.com/settings/apps" target="_blank" rel="noopener">Connected Apps</a>).
            Upon revocation, no further data will be fetched from that provider.</li>
            <li><strong>Export</strong> your activity metadata — contact us and we will provide
            a copy in a common format.</li>
        </ul>

        <hr>

        <h2>8. Changes to This Policy</h2>
        <p>This policy may be updated as the platform evolves. The effective date at the top
        reflects when it was last changed. Continued use of the platform after a policy change
        constitutes acceptance of the updated policy.</p>

        <hr>

        <h2>9. Contact</h2>
        <p>For privacy questions, data access requests, or deletion requests:</p>
        <ul>
            <li>Open an issue at <a href="https://github.com/ckdake/tracekit" target="_blank" rel="noopener">github.com/ckdake/tracekit</a></li>
            <li>Or contact the maintainer directly via GitHub</li>
        </ul>
    </article>
</div>
{% endblock %}
