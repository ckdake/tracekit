<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Providers — tracekit</title>
        <meta
            name="description"
            content="Supported providers in tracekit and how to become a provider"
        />
        <link rel="stylesheet" href="/assets/css/style.css" />
        <style>
            .prose {
                max-width: 720px;
                margin: 0 auto;
                padding: 2rem 1rem 4rem;
            }
            .prose h1 {
                font-size: 2rem;
                margin-bottom: 0.25rem;
            }
            .prose .lead {
                color: var(--muted-text);
                margin-bottom: 2rem;
            }
            .prose h2 {
                font-size: 1.2rem;
                margin-top: 2.5rem;
                margin-bottom: 0.5rem;
                border-bottom: 1px solid var(--borders);
                padding-bottom: 0.25rem;
            }
            .prose h3 {
                font-size: 1rem;
                margin-top: 1.5rem;
                margin-bottom: 0.4rem;
                font-weight: 600;
            }
            .prose p {
                margin-bottom: 0.85rem;
                line-height: 1.65;
                color: #374151;
            }
            .prose ul {
                margin: 0.5rem 0 0.85rem 1.5rem;
                line-height: 1.65;
                color: #374151;
            }
            .prose ul li {
                margin-bottom: 0.3rem;
            }
            .prose ol {
                margin: 0.5rem 0 0.85rem 1.5rem;
                line-height: 1.65;
                color: #374151;
            }
            .prose ol li {
                margin-bottom: 0.3rem;
            }
            .prose hr {
                border: none;
                border-top: 1px solid var(--borders);
                margin: 2.5rem 0;
            }
            .prose a {
                color: var(--signal-blue);
            }
            .prose code {
                background: var(--subtle-fill);
                border: 1px solid var(--borders);
                border-radius: 3px;
                padding: 1px 5px;
                font-size: 0.875em;
                font-family: monospace;
            }
            .prose pre {
                background: var(--subtle-fill);
                border: 1px solid var(--borders);
                border-radius: 6px;
                padding: 1rem;
                overflow-x: auto;
                margin: 0.75rem 0 1rem;
            }
            .prose pre code {
                background: none;
                border: none;
                padding: 0;
                font-size: 0.875rem;
            }

            .provider-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 1rem;
                margin: 1rem 0 2rem;
            }
            .provider-card {
                border: 1px solid var(--borders);
                border-radius: 8px;
                padding: 1.25rem;
                background: var(--cloud);
            }
            .provider-card h3 {
                margin-top: 0;
                font-size: 1rem;
            }
            .provider-card p {
                margin-bottom: 0.5rem;
                font-size: 0.9rem;
            }
            .provider-card ul {
                margin: 0.25rem 0 0 1.25rem;
                font-size: 0.875rem;
            }

            .badge {
                display: inline-block;
                border-radius: 4px;
                font-size: 0.7rem;
                font-weight: 600;
                padding: 2px 7px;
                text-transform: uppercase;
                letter-spacing: 0.05em;
                margin-left: 0.4rem;
                vertical-align: middle;
            }
            .badge-required {
                background: #eff6ff;
                color: var(--signal-blue);
                border: 1px solid #bfdbfe;
            }
            .badge-optional {
                background: #f0fdf4;
                color: #16a34a;
                border: 1px solid #bbf7d0;
            }

            .endpoint-table {
                width: 100%;
                border-collapse: collapse;
                margin: 0.75rem 0 1.5rem;
                font-size: 0.875rem;
            }
            .endpoint-table th {
                text-align: left;
                padding: 0.5rem 0.75rem;
                background: var(--subtle-fill);
                border: 1px solid var(--borders);
                font-weight: 600;
                color: var(--graphite);
            }
            .endpoint-table td {
                padding: 0.5rem 0.75rem;
                border: 1px solid var(--borders);
                vertical-align: top;
                color: #374151;
            }
            .endpoint-table tr:hover td {
                background: var(--cloud);
            }
        </style>
    </head>
    <body>
        <header class="header">
            <div class="container">
                <a href="/" class="logo">
                    <img src="/assets/img/logo.png" alt="tracekit logo" />
                </a>
                <nav class="nav">
                    <a href="/">Home</a>
                    <a href="https://github.com/ckdake/tracekit" target="_blank"
                        >GitHub</a
                    >
                    <a href="/developer.html">Developers</a>
                    <a href="/providers.html">Providers</a>
                    <a href="/privacy.html">Privacy</a>
                </nav>
            </div>
        </header>

        <main class="main">
            <div class="prose">
                <h1>Providers</h1>
                <p class="lead">
                    tracekit connects to fitness platforms through a provider
                    system. Each provider reads and writes activity data using a
                    consistent interface, letting you sync, compare, and back up
                    workouts across services.
                </p>

                <h2>Current Providers</h2>
                <p>
                    The following providers are fully implemented and available
                    today.
                </p>

                <div class="provider-grid">
                    <div class="provider-card">
                        <h3>Garmin</h3>
                        <p>
                            Pulls activities from Garmin Connect using your
                            Garmin account credentials via OAuth.
                        </p>
                        <ul>
                            <li>Reads activities by date range</li>
                            <li>
                                Fetches activity metadata including device info
                            </li>
                            <li>Supports updating activity name</li>
                            <li>Reads gear (devices)</li>
                        </ul>
                    </div>
                    <div class="provider-card">
                        <h3>Strava</h3>
                        <p>
                            Full read/write integration with Strava via the
                            official Strava API and OAuth 2.0.
                        </p>
                        <ul>
                            <li>Reads and creates activities</li>
                            <li>Updates activity name and gear</li>
                            <li>Reads bikes and shoes from athlete profile</li>
                            <li>
                                Handles token refresh and rate limits
                                automatically
                            </li>
                        </ul>
                    </div>
                    <div class="provider-card">
                        <h3>Ride with GPS</h3>
                        <p>
                            Integrates with Ride with GPS using API key
                            authentication.
                        </p>
                        <ul>
                            <li>Reads and creates trips</li>
                            <li>Updates activity name and gear</li>
                            <li>Reads gear from user profile</li>
                        </ul>
                    </div>
                    <div class="provider-card">
                        <h3>File</h3>
                        <p>
                            Imports activity files directly from your filesystem
                            &mdash; no external API required.
                        </p>
                        <ul>
                            <li>
                                Supports GPX, FIT, and TCX formats (including
                                gzipped)
                            </li>
                            <li>
                                Idempotent: skips already-processed files using
                                checksums
                            </li>
                            <li>
                                Read-only: does not support creating or updating
                                activities
                            </li>
                        </ul>
                    </div>
                </div>

                <hr />

                <h2>Becoming a Provider</h2>

                <p>
                    Any fitness platform with a public API can become a tracekit
                    provider. Providers are Python classes that implement a
                    standard interface defined by the
                    <code>FitnessProvider</code> base class. If your platform
                    exposes the required endpoints, adding support is
                    straightforward.
                </p>

                <h3>Requirements</h3>
                <ol>
                    <li>
                        <strong>A public API.</strong> Your platform must have
                        an API that third-party applications can access. Rate
                        limits and authentication methods will vary — tracekit
                        can accommodate most common patterns.
                    </li>
                    <li>
                        <strong>Developer access.</strong> You must be able to
                        grant tracekit access to your API, either by registering
                        an application (OAuth) or issuing an API key. Read and
                        write scopes are required for the endpoints below.
                    </li>
                    <li>
                        <strong>The required endpoints.</strong> Your API must
                        provide the operations listed in the table below.
                        Optional endpoints can be left as stubs.
                    </li>
                </ol>

                <h3>Required and Optional Endpoints</h3>
                <p>
                    Provider classes must implement the following methods.
                    Required methods must be fully functional. Optional methods
                    may return empty results or raise
                    <code>NotImplementedError</code> if the underlying API does
                    not support them.
                </p>

                <table class="endpoint-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Required</th>
                            <th>Description</th>
                            <th>Underlying API capability needed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>pull_activities(date_filter)</code></td>
                            <td>
                                <span class="badge badge-required"
                                    >Required</span
                                >
                            </td>
                            <td>
                                Fetch all activities within a given time range.
                            </td>
                            <td>
                                List activities filtered by start/end timestamp
                                or date range.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>get_activity_by_id(activity_id)</code>
                            </td>
                            <td>
                                <span class="badge badge-required"
                                    >Required</span
                                >
                            </td>
                            <td>
                                Retrieve full metadata for a single activity by
                                its provider-assigned ID.
                            </td>
                            <td>Fetch a single activity record by ID.</td>
                        </tr>
                        <tr>
                            <td><code>update_activity(activity_data)</code></td>
                            <td>
                                <span class="badge badge-required"
                                    >Required</span
                                >
                            </td>
                            <td>
                                Write changes back to the provider. At minimum,
                                updating the activity name must be supported.
                            </td>
                            <td>
                                PATCH or PUT an activity record; name field must
                                be writable.
                            </td>
                        </tr>
                        <tr>
                            <td><code>create_activity(activity_data)</code></td>
                            <td>
                                <span class="badge badge-required"
                                    >Required</span
                                >
                            </td>
                            <td>
                                Create a new activity on the platform from
                                tracekit data.
                            </td>
                            <td>
                                POST a new activity with name, type, start time,
                                and duration.
                            </td>
                        </tr>
                        <tr>
                            <td><code>get_all_gear()</code></td>
                            <td>
                                <span class="badge badge-optional"
                                    >Optional</span
                                >
                            </td>
                            <td>
                                Return a list of gear (bikes, shoes, devices,
                                etc.) associated with the account.
                            </td>
                            <td>
                                Endpoint that lists equipment or athlete gear.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>set_gear(gear_name, activity_id)</code>
                            </td>
                            <td>
                                <span class="badge badge-optional"
                                    >Optional</span
                                >
                            </td>
                            <td>
                                Associate a piece of gear with a specific
                                activity.
                            </td>
                            <td>
                                PATCH or PUT an activity with a gear/equipment
                                reference.
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h3>Activity Data Model</h3>
                <p>
                    Each provider returns activities as instances of a class
                    that inherits from
                    <code>BaseProviderActivity</code>. The fields below are
                    populated from API responses and stored locally. Not every
                    field needs to be available from every provider — populate
                    what your API provides.
                </p>
                <ul>
                    <li><strong>name</strong> &mdash; activity title</li>
                    <li><strong>distance</strong> &mdash; in miles</li>
                    <li><strong>start_time</strong> &mdash; Unix timestamp</li>
                    <li>
                        <strong>activity_type</strong> &mdash; e.g. Run, Ride,
                        Swim
                    </li>
                    <li>
                        <strong>duration_hms</strong> &mdash; elapsed time as
                        HH:MM:SS
                    </li>
                    <li>
                        <strong>avg_heart_rate, max_heart_rate</strong> &mdash;
                        beats per minute
                    </li>
                    <li>
                        <strong>total_elevation_gain, max_elevation</strong>
                        &mdash; in feet
                    </li>
                    <li><strong>calories, avg_cadence, temperature</strong></li>
                    <li><strong>location_name, city, state</strong></li>
                    <li><strong>equipment</strong> &mdash; gear name</li>
                    <li><strong>notes</strong></li>
                    <li>
                        <strong>raw_data</strong> &mdash; JSON blob of any
                        provider-specific fields
                    </li>
                </ul>

                <h3>Implementation Guide</h3>
                <p>To add a new provider:</p>
                <ol>
                    <li>
                        Create a directory under
                        <code>tracekit/providers/&lt;name&gt;/</code> with
                        <code>&lt;name&gt;_provider.py</code> and
                        <code>&lt;name&gt;_activity.py</code>.
                    </li>
                    <li>
                        Subclass <code>FitnessProvider</code> from
                        <code>tracekit.providers.base_provider</code> and
                        implement each required method.
                    </li>
                    <li>
                        Subclass <code>BaseProviderActivity</code> from
                        <code>tracekit.providers.base_provider_activity</code>
                        for the activity model.
                    </li>
                    <li>
                        Add authentication credential fields (API key, OAuth
                        tokens, etc.) to the provider's
                        <code>__init__</code>, loaded from environment variables
                        or the database config.
                    </li>
                    <li>
                        Register the provider in
                        <code>tracekit/providers/__init__.py</code> so it is
                        discoverable by the CLI and web interface.
                    </li>
                    <li>
                        Open a pull request on
                        <a
                            href="https://github.com/ckdake/tracekit"
                            target="_blank"
                            rel="noopener"
                            >GitHub</a
                        >
                        with your implementation and any necessary credential
                        documentation.
                    </li>
                </ol>

                <p>
                    The existing Strava and Ride with GPS providers are good
                    reference implementations that cover the full required +
                    optional surface area. The Garmin provider shows how to
                    handle read-only gear and name-only updates. The File
                    provider demonstrates a non-API, import-only pattern.
                </p>

                <h3>Questions</h3>
                <p>
                    If you're interested in adding a provider or have questions
                    about the interface, open an issue on
                    <a
                        href="https://github.com/ckdake/tracekit"
                        target="_blank"
                        rel="noopener"
                        >GitHub</a
                    >.
                </p>
            </div>
        </main>

        <footer class="footer">
            <div class="container">
                <p>
                    &copy; 2026 tracekit. Open source fitness data integration
                    tool.
                </p>
                <p><a href="/privacy.html">Privacy Policy</a></p>
            </div>
        </footer>

        <script src="/assets/js/main.js"></script>
    </body>
</html>
